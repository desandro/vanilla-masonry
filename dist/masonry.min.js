(function(){var t=Object.prototype.hasOwnProperty;function e(t,i,s){var n=e.resolve(t);if(null==n){s=s||t;i=i||"root";var o=new Error('Failed to require "'+s+'" from "'+i+'"');o.path=s;o.parent=i;o.require=true;throw o}var r=e.modules[n];if(!r.exports){r.exports={};r.client=r.component=true;r.call(this,r.exports,e.relative(n),r)}return r.exports}e.modules={};e.aliases={};e.resolve=function(i){var s=i+"/index.js";var n=[i,i+".js",i+".json",i+"/index.js",i+"/index.json"];for(var o=0;o<n.length;o++){var i=n[o];if(t.call(e.modules,i))return i}if(t.call(e.aliases,s)){return e.aliases[s]}};e.normalize=function(t,e){var i=[];if("."!=e.charAt(0))return e;t=t.split("/");e=e.split("/");for(var s=0;s<e.length;++s){if(".."==e[s]){t.pop()}else if("."!=e[s]&&""!=e[s]){i.push(e[s])}}return t.concat(i).join("/")};e.register=function(t,i){e.modules[t]=i};e.alias=function(i,s){if(!t.call(e.modules,i)){throw new Error('Failed to alias "'+i+'", it does not exist')}e.aliases[s]=i};e.relative=function(i){var s=e.normalize(i,"..");function n(t,e){var i=t.length;while(i--){if(t[i]===e)return i}return-1}function o(t){var s=o.resolve(t);return e(s,i,t)}o.resolve=function(t){if("."!=t.charAt(0)){var o=i.split("/");var r=n(o,"deps")+1;if(!r)r=0;t=o.slice(0,r+1).join("/")+"/deps/"+t;return t}return e.normalize(s,t)};o.exists=function(i){return t.call(e.modules,o.resolve(i))};return o};e.register("component-indexof/index.js",function(t,e,i){var s=[].indexOf;i.exports=function(t,e){if(s)return t.indexOf(e);for(var i=0;i<t.length;++i){if(t[i]===e)return i}return-1}});e.register("component-classes/index.js",function(t,e,i){var s=e("indexof");var n=/\s+/;i.exports=function(t){return new o(t)};function o(t){this.el=t;this.list=t.classList}o.prototype.add=function(t){if(this.list){this.list.add(t);return this}var e=this.array();var i=s(e,t);if(!~i)e.push(t);this.el.className=e.join(" ");return this};o.prototype.remove=function(t){if(this.list){this.list.remove(t);return this}var e=this.array();var i=s(e,t);if(~i)e.splice(i,1);this.el.className=e.join(" ");return this};o.prototype.toggle=function(t){if(this.list){this.list.toggle(t);return this}if(this.has(t)){this.remove(t)}else{this.add(t)}return this};o.prototype.array=function(){var t=this.el.className.split(n);if(""===t[0])t.pop();return t};o.prototype.has=o.prototype.contains=function(t){return this.list?this.list.contains(t):!!~s(this.array(),t)}});e.register("masonry/masonry.js",function(t,e,i){i.exports=m;var s=e("classes");"use strict";var n=window.document;var o=n.defaultView;var r=o&&o.getComputedStyle?function(t){return o.getComputedStyle(t,null)}:function(t){return t.currentStyle};var a=n.getElementsByTagName("body")[0],l=n.createElement("div"),h=a||n.createElement("body");l.style.marginTop="1%";h.appendChild(l);var u=r(l).marginTop!=="1%";h.removeChild(l);function f(t,e,i){if(i.indexOf("%")===-1){return i}var s=t.style,n=s.width,o;s.width=i;o=e.width;s.width=n;return o}function c(t,e,i){var s=e!=="height",n=s?t.offsetWidth:t.offsetHeight,o=s?"Left":"Top",a=s?"Right":"Bottom",l=r(t),h=parseFloat(l["padding"+o])||0,c=parseFloat(l["padding"+a])||0,d=parseFloat(l["border"+o+"Width"])||0,p=parseFloat(l["border"+a+"Width"])||0,m=l["margin"+o],v=l["margin"+a],y,g;if(!u){m=f(t,l,m);v=f(t,l,v)}y=parseFloat(m)||0;g=parseFloat(v)||0;if(n>0){if(i){n+=y+g}else{n-=h+c+d+p}}else{n=l[e];if(n<0||n===null){n=t.style[e]||0}n=parseFloat(n)||0;if(i){n+=h+c+y+g+d+p}}return n}function d(t,e,i){if(t.addEventListener){t.addEventListener(e,i,false)}else if(t.attachEvent){t["e"+e+i]=i;t[e+i]=function(){t["e"+e+i](window.event)};t.attachEvent("on"+e,t[e+i])}}function p(t,e,i){if(t.removeEventListener){t.removeEventListener(e,i,false)}else if(t.detachEvent){t.detachEvent("on"+e,t[e+i]);t[e+i]=null;t["e"+e+i]=null}}function m(t,e){if(!t){return}this.element=t;this.options={};for(var i in m.defaults){this.options[i]=m.defaults[i]}for(i in e){this.options[i]=e[i]}this._create();this.build()}var v=["position","height"];m.defaults={isResizable:true,gutterWidth:0,isRTL:false,isFitWidth:false};m.prototype={_getBricks:function(t){var e;for(var i=0,n=t.length;i<n;i++){e=t[i];e.style.position="absolute";s(e).add("masonry-brick");this.bricks.push(e)}},_create:function(){this.reloadItems();var t=this.element.style;this._originalStyle={};for(var e=0,i=v.length;e<i;e++){var n=v[e];this._originalStyle[n]=t[n]||""}this.element.style.position="relative";this.horizontalDirection=this.options.isRTL?"right":"left";this.offset={};var o=r(this.element),a=this.options.isRTL?"paddingRight":"paddingLeft";this.offset.y=parseFloat(o.paddingTop)||0;this.offset.x=parseFloat(o[a])||0;this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var l=this;setTimeout(function(){s(l.element).add("masonry ")});if(this.options.isResizable){d(window,"resize",function(){l._handleResize()})}},build:function(t){this._getColumns();this._reLayout(t)},_getColumns:function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,e=c(t,"width");this.columnWidth=this.isFluid?this.options.columnWidth(e):this.options.columnWidth||c(this.bricks[0],"width",true)||e;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((e+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},reloadItems:function(){this.bricks=[];this._getBricks(this.element.children)},_reLayout:function(t){var e=this.cols;this.colYs=[];while(e--){this.colYs.push(0)}this.layout(this.bricks,t)},layout:function(t,e){if(!t||!t.length){return}var i,s,n,o,r,a,l;for(var h=0,u=t.length;h<u;h++){i=t[h];if(i.nodeType!==1){continue}s=Math.ceil(c(i,"width",true)/this.columnWidth);s=Math.min(s,this.cols);if(s===1){l=this.colYs}else{n=this.cols+1-s;l=[];for(a=0;a<n;a++){r=this.colYs.slice(a,a+s);l[a]=Math.max.apply(Math,r)}}var f=Math.min.apply(Math,l);for(var d=0,p=l.length;d<p;d++){if(l[d]===f){break}}i.style.top=f+this.offset.y+"px";i.style[this.horizontalDirection]=this.columnWidth*d+this.offset.x+"px";var m=f+c(i,"height",true),v=this.cols+1-p;for(a=0;a<v;a++){this.colYs[d+a]=m}}var y={};this.element.style.height=Math.max.apply(Math,this.colYs)+"px";if(this.options.isFitWidth){var g=0;h=this.cols;while(--h){if(this.colYs[h]!==0){break}g++}this.element.style.width=(this.cols-g)*this.columnWidth-this.options.gutterWidth+"px"}if(e){e.call(t)}},_handleResize:function(){var t=this;function e(){t.resize();t._resizeTimeout=null}if(this._resizeTimeout){clearTimeout(this._resizeTimeout)}this._resizeTimeout=setTimeout(e,100)},resize:function(){var t=this.cols;this._getColumns();if(this.isFluid||this.cols!==t){this._reLayout()}},reload:function(t){this.reloadItems();this.build(t)},appended:function(t,e,i){var s=this,n=function(){s._appended(t,i)};if(e){var o=c(this.element,"height")+"px";for(var r=0,a=t.length;r<a;r++){t[r].style.top=o}setTimeout(n,1)}else{n()}},_appended:function(t,e){this._getBricks(t);this.layout(t,e)},destroy:function(){var t;for(var e=0,i=this.bricks.length;e<i;e++){t=this.bricks[e];t.style.position="";t.style.top="";t.style.left="";s(t).remove("masonry-brick")}var n=this.element.style;i=v.length;for(e=0;e<i;e++){var o=v[e];n[o]=this._originalStyle[o]}s(this.element).remove("masonry");if(this.resizeHandler){p(window,"resize",this.resizeHandler)}}};m.getWH=c});e.alias("component-classes/index.js","masonry/deps/classes/index.js");e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js");e.alias("masonry/masonry.js","masonry/index.js");if(typeof exports=="object"){module.exports=e("masonry")}else if(typeof define=="function"&&define.amd){define(e("masonry"))}else{window["Masonry"]=e("masonry")}})();